"use strict";(self["webpackChunkbookshelf"]=self["webpackChunkbookshelf"]||[]).push([[166],{5166:function(t,r,n){n.r(r),n.d(r,{default:function(){return O}});var e=n(641),o=n(3751);const i={class:"container d-flex justify-content-center align-items-center vh-75 mt-5"},a={class:"card shadow-sm col-md-6"},c=(0,e.Lk)("div",{class:"card-header pt-3"},[(0,e.Lk)("h3",null,"Login")],-1),u={class:"card-body"},s={class:"form-group my-3"},l=(0,e.Lk)("label",{for:"username"},"Email",-1),f={class:"form-group my-3"},p=(0,e.Lk)("label",{for:"password"},"Password",-1),h=(0,e.Lk)("button",{type:"submit",class:"btn btn-primary"},"Login",-1),d={href:"/signup",class:"btn btn-link"},g=(0,e.Lk)("img",{src:"https://img.icons8.com/color/16/000000/google-logo.png"},null,-1);function m(t,r,n,m,v,b){const y=(0,e.g2)("router-link");return(0,e.uX)(),(0,e.CE)("div",i,[(0,e.Lk)("div",a,[c,(0,e.Lk)("div",u,[(0,e.Lk)("form",{onSubmit:r[2]||(r[2]=(0,o.D$)(((...t)=>b.handleSubmit&&b.handleSubmit(...t)),["prevent"]))},[(0,e.Lk)("div",s,[l,(0,e.bo)((0,e.Lk)("input",{type:"text",class:"form-control mt-2",id:"username","onUpdate:modelValue":r[0]||(r[0]=t=>v.email=t),required:""},null,512),[[o.Jo,v.email]])]),(0,e.Lk)("div",f,[p,(0,e.bo)((0,e.Lk)("input",{type:"password",class:"form-control mt-2 mb-4",id:"password","onUpdate:modelValue":r[1]||(r[1]=t=>v.password=t),required:""},null,512),[[o.Jo,v.password]])]),h,(0,e.Lk)("a",d,[(0,e.bF)(y,{to:"/signup"},{default:(0,e.k6)((()=>[(0,e.eW)("Sign up")])),_:1})])],32),(0,e.Lk)("a",{class:"mt-3 btn btn-lg btn-google btn-block btn-outline align-text-center",onClick:r[3]||(r[3]=t=>b.loginWithGoogle())},[g,(0,e.eW)(" LOGIN WITH GOOGLE")])])])])}n(4114);var v=n(861),b=n(6430),y=n(6015),w=n(5246),x={name:"LoginView",data(){return{email:"",password:""}},methods:{async handleSubmit(){const t=(0,y.xI)();(0,y.x9)(t,this.email,this.password).then((()=>{const t=(0,w.dj)();t.success("Login successful."),this.$router.push("/profile")})).catch((t=>{const r=(0,w.dj)();r.error("Error while logging in: ",t)}))},async loginWithGoogle(){const t=new y.HF,r=(0,y.xI)();await(0,y.df)(r,t).then((async t=>{const r=t.user,n=(0,b.H9)(v.y6,r.uid);await(0,b.x7)(n).then((t=>{t.data()||(0,b.BN)(n,{Username:r.displayName,Favourite_books:[],Saved_progress:{}}).catch((t=>{const r=(0,w.dj)();r.error("Logged in but user info not set correctly: ",t)}));const e=(0,w.dj)();e.success("Login successful!"),this.$router.push("/profile")}))})).catch((t=>{console.log(t);const r=(0,w.dj)();r.error("Error while logging in: ",t)}))}}},L=n(6262);const k=(0,L.A)(x,[["render",m]]);var O=k},9617:function(t,r,n){var e=n(5397),o=n(5610),i=n(6198),a=function(t){return function(r,n,a){var c=e(r),u=i(c);if(0===u)return!t&&-1;var s,l=o(a,u);if(t&&n!==n){while(u>l)if(s=c[l++],s!==s)return!0}else for(;u>l;l++)if((t||l in c)&&c[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},4527:function(t,r,n){var e=n(3724),o=n(4376),i=TypeError,a=Object.getOwnPropertyDescriptor,c=e&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=c?function(t,r){if(o(t)&&!a(t,"length").writable)throw new i("Cannot set read only .length");return t.length=r}:function(t,r){return t.length=r}},7740:function(t,r,n){var e=n(9297),o=n(5031),i=n(7347),a=n(4913);t.exports=function(t,r,n){for(var c=o(r),u=a.f,s=i.f,l=0;l<c.length;l++){var f=c[l];e(t,f)||n&&e(n,f)||u(t,f,s(r,f))}}},6837:function(t){var r=TypeError,n=9007199254740991;t.exports=function(t){if(t>n)throw r("Maximum allowed index exceeded");return t}},8727:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},6518:function(t,r,n){var e=n(4475),o=n(7347).f,i=n(6699),a=n(6840),c=n(9433),u=n(7740),s=n(2796);t.exports=function(t,r){var n,l,f,p,h,d,g=t.target,m=t.global,v=t.stat;if(l=m?e:v?e[g]||c(g,{}):e[g]&&e[g].prototype,l)for(f in r){if(h=r[f],t.dontCallGetSet?(d=o(l,f),p=d&&d.value):p=l[f],n=s(m?f:g+(v?".":"#")+f,t.forced),!n&&void 0!==p){if(typeof h==typeof p)continue;u(h,p)}(t.sham||p&&p.sham)&&i(h,"sham",!0),a(l,f,h,t)}}},7055:function(t,r,n){var e=n(9504),o=n(9039),i=n(4576),a=Object,c=e("".split);t.exports=o((function(){return!a("z").propertyIsEnumerable(0)}))?function(t){return"String"===i(t)?c(t,""):a(t)}:a},4376:function(t,r,n){var e=n(4576);t.exports=Array.isArray||function(t){return"Array"===e(t)}},2796:function(t,r,n){var e=n(9039),o=n(4901),i=/#|\.prototype\./,a=function(t,r){var n=u[c(t)];return n===l||n!==s&&(o(r)?e(r):!!r)},c=a.normalize=function(t){return String(t).replace(i,".").toLowerCase()},u=a.data={},s=a.NATIVE="N",l=a.POLYFILL="P";t.exports=a},6198:function(t,r,n){var e=n(8014);t.exports=function(t){return e(t.length)}},741:function(t){var r=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){var e=+t;return(e>0?n:r)(e)}},7347:function(t,r,n){var e=n(3724),o=n(9565),i=n(8773),a=n(6980),c=n(5397),u=n(6969),s=n(9297),l=n(5917),f=Object.getOwnPropertyDescriptor;r.f=e?f:function(t,r){if(t=c(t),r=u(r),l)try{return f(t,r)}catch(n){}if(s(t,r))return a(!o(i.f,t,r),t[r])}},8480:function(t,r,n){var e=n(1828),o=n(8727),i=o.concat("length","prototype");r.f=Object.getOwnPropertyNames||function(t){return e(t,i)}},3717:function(t,r){r.f=Object.getOwnPropertySymbols},1828:function(t,r,n){var e=n(9504),o=n(9297),i=n(5397),a=n(9617).indexOf,c=n(421),u=e([].push);t.exports=function(t,r){var n,e=i(t),s=0,l=[];for(n in e)!o(c,n)&&o(e,n)&&u(l,n);while(r.length>s)o(e,n=r[s++])&&(~a(l,n)||u(l,n));return l}},8773:function(t,r){var n={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,o=e&&!n.call({1:2},1);r.f=o?function(t){var r=e(this,t);return!!r&&r.enumerable}:n},5031:function(t,r,n){var e=n(7751),o=n(9504),i=n(8480),a=n(3717),c=n(8551),u=o([].concat);t.exports=e("Reflect","ownKeys")||function(t){var r=i.f(c(t)),n=a.f;return n?u(r,n(t)):r}},5610:function(t,r,n){var e=n(1291),o=Math.max,i=Math.min;t.exports=function(t,r){var n=e(t);return n<0?o(n+r,0):i(n,r)}},5397:function(t,r,n){var e=n(7055),o=n(7750);t.exports=function(t){return e(o(t))}},1291:function(t,r,n){var e=n(741);t.exports=function(t){var r=+t;return r!==r||0===r?0:e(r)}},8014:function(t,r,n){var e=n(1291),o=Math.min;t.exports=function(t){var r=e(t);return r>0?o(r,9007199254740991):0}},4114:function(t,r,n){var e=n(6518),o=n(8981),i=n(6198),a=n(4527),c=n(6837),u=n(9039),s=u((function(){return 4294967297!==[].push.call({length:4294967296},1)})),l=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},f=s||!l();e({target:"Array",proto:!0,arity:1,forced:f},{push:function(t){var r=o(this),n=i(r),e=arguments.length;c(n+e);for(var u=0;u<e;u++)r[n]=arguments[u],n++;return a(r,n),n}})}}]);
//# sourceMappingURL=166.483b4551.js.map