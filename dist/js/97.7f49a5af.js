"use strict";(self["webpackChunkbookshelf"]=self["webpackChunkbookshelf"]||[]).push([[97],{8351:function(r,t,e){e.a(r,(async function(r,n){try{e(6573),e(8100),e(7936),e(7467),e(4732),e(9577),e(4979);var o=e(861),a=e(6430),i=e(5904),c=e(8782),u=e(4577);try{var f=await(0,c.r)();const h=(0,a.H9)(o.y6,f.uid);var s="",p="",y="";const E=(0,u.qN)(),g=(0,i.KR)(E,"avatars/"+f.uid+".jpg"),{url:A}=(0,u.eW)(g);s=A,await(0,a.x7)(h).then((r=>{if(r.exists){const t=r.data();p=t["Username"],y=f.email}}))}catch(v){console.log(v)}function l(r){const t=r.split(","),e=t[0].match(/:(.*?);/)[1],n=atob(t[1]);let o=n.length;const a=new Uint8Array(o);while(o--)a[o]=n.charCodeAt(o);return new Blob([a],{type:e})}t.A={data(){return{user:f,avatarUrl:s,email:y,username:p}},methods:{async changeAvatarFromDevice(){const r=document.createElement("input");r.type="file",r.accept="image/*",r.addEventListener("change",(r=>{const t=new FileReader;t.onload=r=>{this.avatarUrl=r.target.result},t.readAsDataURL(r.target.files[0]);const e=(0,u.qN)(),n=(0,i.KR)(e,"avatars/"+this.user.uid+".jpg"),{upload:o}=(0,u.vc)(n);o(r.target.files[0])})),r.click()},async openCamera(){try{const r=await navigator.mediaDevices.getUserMedia({video:!0}),t=document.createElement("video");t.srcObject=r,t.play();const e=document.createElement("canvas"),n=e.getContext("2d"),o=document.createElement("button");o.textContent="Take Photo",o.addEventListener("click",(async()=>{e.width=t.videoWidth,e.height=t.videoHeight,n.drawImage(t,0,0);const a=e.toDataURL("image/jpeg"),c=await l(a),f=(0,u.qN)(),s=(0,i.KR)(f,"avatars/"+this.user.uid+".jpg"),{upload:p}=(0,u.vc)(s);p(c),r.getTracks().forEach((r=>r.stop())),t.remove(),o.remove()})),document.body.appendChild(t),document.body.appendChild(o)}catch(v){console.error("Error accessing camera:",v)}}}},n()}catch(d){n(d)}}),1)},4097:function(r,t,e){e.a(r,(async function(r,n){try{e.r(t);var o=e(4143),a=e(6992),i=e(6262),c=r([a]);a=(c.then?(await c)():c)[0];const u=(0,i.A)(a.A,[["render",o.X]]);t["default"]=u,n()}catch(u){n(u)}}))},6992:function(r,t,e){e.a(r,(async function(r,n){try{e.d(t,{A:function(){return o.A}});var o=e(8351),a=r([o]);o=(a.then?(await a)():a)[0],n()}catch(i){n(i)}}))},4143:function(r,t,e){e.d(t,{X:function(){return p}});var n=e(641),o=e(33);const a={class:"container d-flex justify-content-center align-items-center vh-75 mt-5"},i={class:"card shadow-sm col-10"},c={class:"card-body text-center"},u={class:"d-flex justify-content-center mb-3"},f=["src"],s={class:"d-flex justify-content-around mb-3"};function p(r,t,e,p,y,v){return(0,n.uX)(),(0,n.CE)("div",a,[(0,n.Lk)("div",i,[(0,n.Lk)("div",c,[(0,n.Lk)("div",u,[(0,n.Lk)("img",{src:y.avatarUrl,class:"rounded-circle img-thumbnail",style:{width:"150px",height:"150px"}},null,8,f)]),(0,n.Lk)("div",s,[(0,n.Lk)("button",{class:"btn btn-primary",onClick:t[0]||(t[0]=(...r)=>v.changeAvatarFromDevice&&v.changeAvatarFromDevice(...r))},"Select avatar"),(0,n.Lk)("button",{class:"btn btn-secondary",onClick:t[1]||(t[1]=(...r)=>v.openCamera&&v.openCamera(...r))},"Take photo")]),(0,n.Lk)("p",null,"Username: "+(0,o.v_)(y.username),1),(0,n.Lk)("p",null,"Email: "+(0,o.v_)(y.email),1)])])])}},3506:function(r,t,e){var n=e(3925),o=String,a=TypeError;r.exports=function(r){if(n(r))return r;throw new a("Can't set "+o(r)+" as a prototype")}},679:function(r,t,e){var n=e(1625),o=TypeError;r.exports=function(r,t){if(n(t,r))return r;throw new o("Incorrect invocation")}},7811:function(r){r.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},7394:function(r,t,e){var n=e(6706),o=e(4576),a=TypeError;r.exports=n(ArrayBuffer.prototype,"byteLength","get")||function(r){if("ArrayBuffer"!==o(r))throw new a("ArrayBuffer expected");return r.byteLength}},3238:function(r,t,e){var n=e(9504),o=e(7394),a=n(ArrayBuffer.prototype.slice);r.exports=function(r){if(0!==o(r))return!1;try{return a(r,0,0),!1}catch(t){return!0}}},5636:function(r,t,e){var n=e(4475),o=e(9504),a=e(6706),i=e(7696),c=e(3238),u=e(7394),f=e(4483),s=e(1548),p=n.structuredClone,y=n.ArrayBuffer,v=n.DataView,d=n.TypeError,l=Math.min,h=y.prototype,E=v.prototype,g=o(h.slice),A=a(h,"resizable","get"),m=a(h,"maxByteLength","get"),w=o(E.getInt8),R=o(E.setInt8);r.exports=(s||f)&&function(r,t,e){var n,o=u(r),a=void 0===t?o:i(t),h=!A||!A(r);if(c(r))throw new d("ArrayBuffer is detached");if(s&&(r=p(r,{transfer:[r]}),o===a&&(e||h)))return r;if(o>=a&&(!e||h))n=g(r,0,a);else{var E=e&&!h&&m?{maxByteLength:m(r)}:void 0;n=new y(a,E);for(var x=new v(r),T=new v(n),_=l(a,o),b=0;b<_;b++)R(T,b,w(x,b))}return s||f(r),n}},4644:function(r,t,e){var n,o,a,i=e(7811),c=e(3724),u=e(4475),f=e(4901),s=e(34),p=e(9297),y=e(6955),v=e(6823),d=e(6699),l=e(6840),h=e(2106),E=e(1625),g=e(2787),A=e(2967),m=e(8227),w=e(3392),R=e(1181),x=R.enforce,T=R.get,_=u.Int8Array,b=_&&_.prototype,O=u.Uint8ClampedArray,I=O&&O.prototype,C=_&&g(_),D=b&&g(b),S=Object.prototype,L=u.TypeError,N=m("toStringTag"),M=w("TYPED_ARRAY_TAG"),k="TypedArrayConstructor",U=i&&!!A&&"Opera"!==y(u.opera),j=!1,P={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},B={BigInt64Array:8,BigUint64Array:8},F=function(r){if(!s(r))return!1;var t=y(r);return"DataView"===t||p(P,t)||p(B,t)},V=function(r){var t=g(r);if(s(t)){var e=T(t);return e&&p(e,k)?e[k]:V(t)}},Y=function(r){if(!s(r))return!1;var t=y(r);return p(P,t)||p(B,t)},W=function(r){if(Y(r))return r;throw new L("Target is not a typed array")},z=function(r){if(f(r)&&(!A||E(C,r)))return r;throw new L(v(r)+" is not a typed array constructor")},H=function(r,t,e,n){if(c){if(e)for(var o in P){var a=u[o];if(a&&p(a.prototype,r))try{delete a.prototype[r]}catch(i){try{a.prototype[r]=t}catch(f){}}}D[r]&&!e||l(D,r,e?t:U&&b[r]||t,n)}},X=function(r,t,e){var n,o;if(c){if(A){if(e)for(n in P)if(o=u[n],o&&p(o,r))try{delete o[r]}catch(a){}if(C[r]&&!e)return;try{return l(C,r,e?t:U&&C[r]||t)}catch(a){}}for(n in P)o=u[n],!o||o[r]&&!e||l(o,r,t)}};for(n in P)o=u[n],a=o&&o.prototype,a?x(a)[k]=o:U=!1;for(n in B)o=u[n],a=o&&o.prototype,a&&(x(a)[k]=o);if((!U||!f(C)||C===Function.prototype)&&(C=function(){throw new L("Incorrect invocation")},U))for(n in P)u[n]&&A(u[n],C);if((!U||!D||D===S)&&(D=C.prototype,U))for(n in P)u[n]&&A(u[n].prototype,D);if(U&&g(I)!==D&&A(I,D),c&&!p(D,N))for(n in j=!0,h(D,N,{configurable:!0,get:function(){return s(this)?this[M]:void 0}}),P)u[n]&&d(u[n],M,n);r.exports={NATIVE_ARRAY_BUFFER_VIEWS:U,TYPED_ARRAY_TAG:j&&M,aTypedArray:W,aTypedArrayConstructor:z,exportTypedArrayMethod:H,exportTypedArrayStaticMethod:X,getTypedArrayConstructor:V,isView:F,isTypedArray:Y,TypedArray:C,TypedArrayPrototype:D}},5370:function(r,t,e){var n=e(6198);r.exports=function(r,t,e){var o=0,a=arguments.length>2?e:n(t),i=new r(a);while(a>o)i[o]=t[o++];return i}},9617:function(r,t,e){var n=e(5397),o=e(5610),a=e(6198),i=function(r){return function(t,e,i){var c=n(t),u=a(c);if(0===u)return!r&&-1;var f,s=o(i,u);if(r&&e!==e){while(u>s)if(f=c[s++],f!==f)return!0}else for(;u>s;s++)if((r||s in c)&&c[s]===e)return r||s||0;return!r&&-1}};r.exports={includes:i(!0),indexOf:i(!1)}},7628:function(r,t,e){var n=e(6198);r.exports=function(r,t){for(var e=n(r),o=new t(e),a=0;a<e;a++)o[a]=r[e-a-1];return o}},7547:function(r,t,e){var n=e(6198),o=e(1291),a=RangeError;r.exports=function(r,t,e,i){var c=n(r),u=o(e),f=u<0?c+u:u;if(f>=c||f<0)throw new a("Incorrect index");for(var s=new t(c),p=0;p<c;p++)s[p]=p===f?i:r[p];return s}},6955:function(r,t,e){var n=e(2140),o=e(4901),a=e(4576),i=e(8227),c=i("toStringTag"),u=Object,f="Arguments"===a(function(){return arguments}()),s=function(r,t){try{return r[t]}catch(e){}};r.exports=n?a:function(r){var t,e,n;return void 0===r?"Undefined":null===r?"Null":"string"==typeof(e=s(t=u(r),c))?e:f?a(t):"Object"===(n=a(t))&&o(t.callee)?"Arguments":n}},7740:function(r,t,e){var n=e(9297),o=e(5031),a=e(7347),i=e(4913);r.exports=function(r,t,e){for(var c=o(t),u=i.f,f=a.f,s=0;s<c.length;s++){var p=c[s];n(r,p)||e&&n(e,p)||u(r,p,f(t,p))}}},4592:function(r,t,e){var n=e(9039);r.exports=!n((function(){function r(){}return r.prototype.constructor=null,Object.getPrototypeOf(new r)!==r.prototype}))},2106:function(r,t,e){var n=e(283),o=e(4913);r.exports=function(r,t,e){return e.get&&n(e.get,t,{getter:!0}),e.set&&n(e.set,t,{setter:!0}),o.f(r,t,e)}},4483:function(r,t,e){var n,o,a,i,c=e(4475),u=e(9714),f=e(1548),s=c.structuredClone,p=c.ArrayBuffer,y=c.MessageChannel,v=!1;if(f)v=function(r){s(r,{transfer:[r]})};else if(p)try{y||(n=u("worker_threads"),n&&(y=n.MessageChannel)),y&&(o=new y,a=new p(2),i=function(r){o.port1.postMessage(null,[r])},2===a.byteLength&&(i(a),0===a.byteLength&&(v=i)))}catch(d){}r.exports=v},5002:function(r){r.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},7290:function(r,t,e){var n=e(516),o=e(9088);r.exports=!n&&!o&&"object"==typeof window&&"object"==typeof document},516:function(r){r.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},9088:function(r,t,e){var n=e(4475),o=e(4576);r.exports="process"===o(n.process)},8727:function(r){r.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},6193:function(r,t,e){var n=e(9504),o=Error,a=n("".replace),i=function(r){return String(new o(r).stack)}("zxcasd"),c=/\n\s*at [^:]*:[^\n]*/,u=c.test(i);r.exports=function(r,t){if(u&&"string"==typeof r&&!o.prepareStackTrace)while(t--)r=a(r,c,"");return r}},6518:function(r,t,e){var n=e(4475),o=e(7347).f,a=e(6699),i=e(6840),c=e(9433),u=e(7740),f=e(2796);r.exports=function(r,t){var e,s,p,y,v,d,l=r.target,h=r.global,E=r.stat;if(s=h?n:E?n[l]||c(l,{}):n[l]&&n[l].prototype,s)for(p in t){if(v=t[p],r.dontCallGetSet?(d=o(s,p),y=d&&d.value):y=s[p],e=f(h?p:l+(E?".":"#")+p,r.forced),!e&&void 0!==y){if(typeof v==typeof y)continue;u(v,y)}(r.sham||y&&y.sham)&&a(v,"sham",!0),i(s,p,v,r)}}},6706:function(r,t,e){var n=e(9504),o=e(9306);r.exports=function(r,t,e){try{return n(o(Object.getOwnPropertyDescriptor(r,t)[e]))}catch(a){}}},7055:function(r,t,e){var n=e(9504),o=e(9039),a=e(4576),i=Object,c=n("".split);r.exports=o((function(){return!i("z").propertyIsEnumerable(0)}))?function(r){return"String"===a(r)?c(r,""):i(r)}:i},3167:function(r,t,e){var n=e(4901),o=e(34),a=e(2967);r.exports=function(r,t,e){var i,c;return a&&n(i=t.constructor)&&i!==e&&o(c=i.prototype)&&c!==e.prototype&&a(r,c),r}},1108:function(r,t,e){var n=e(6955);r.exports=function(r){var t=n(r);return"BigInt64Array"===t||"BigUint64Array"===t}},2796:function(r,t,e){var n=e(9039),o=e(4901),a=/#|\.prototype\./,i=function(r,t){var e=u[c(r)];return e===s||e!==f&&(o(t)?n(t):!!t)},c=i.normalize=function(r){return String(r).replace(a,".").toLowerCase()},u=i.data={},f=i.NATIVE="N",s=i.POLYFILL="P";r.exports=i},3925:function(r,t,e){var n=e(34);r.exports=function(r){return n(r)||null===r}},6198:function(r,t,e){var n=e(8014);r.exports=function(r){return n(r.length)}},741:function(r){var t=Math.ceil,e=Math.floor;r.exports=Math.trunc||function(r){var n=+r;return(n>0?e:t)(n)}},2603:function(r,t,e){var n=e(655);r.exports=function(r,t){return void 0===r?arguments.length<2?"":t:n(r)}},7347:function(r,t,e){var n=e(3724),o=e(9565),a=e(8773),i=e(6980),c=e(5397),u=e(6969),f=e(9297),s=e(5917),p=Object.getOwnPropertyDescriptor;t.f=n?p:function(r,t){if(r=c(r),t=u(t),s)try{return p(r,t)}catch(e){}if(f(r,t))return i(!o(a.f,r,t),r[t])}},8480:function(r,t,e){var n=e(1828),o=e(8727),a=o.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(r){return n(r,a)}},3717:function(r,t){t.f=Object.getOwnPropertySymbols},2787:function(r,t,e){var n=e(9297),o=e(4901),a=e(8981),i=e(6119),c=e(4592),u=i("IE_PROTO"),f=Object,s=f.prototype;r.exports=c?f.getPrototypeOf:function(r){var t=a(r);if(n(t,u))return t[u];var e=t.constructor;return o(e)&&t instanceof e?e.prototype:t instanceof f?s:null}},1828:function(r,t,e){var n=e(9504),o=e(9297),a=e(5397),i=e(9617).indexOf,c=e(421),u=n([].push);r.exports=function(r,t){var e,n=a(r),f=0,s=[];for(e in n)!o(c,e)&&o(n,e)&&u(s,e);while(t.length>f)o(n,e=t[f++])&&(~i(s,e)||u(s,e));return s}},8773:function(r,t){var e={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,o=n&&!e.call({1:2},1);t.f=o?function(r){var t=n(this,r);return!!t&&t.enumerable}:e},2967:function(r,t,e){var n=e(6706),o=e(34),a=e(7750),i=e(3506);r.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var r,t=!1,e={};try{r=n(Object.prototype,"__proto__","set"),r(e,[]),t=e instanceof Array}catch(c){}return function(e,n){return a(e),i(n),o(e)?(t?r(e,n):e.__proto__=n,e):e}}():void 0)},5031:function(r,t,e){var n=e(7751),o=e(9504),a=e(8480),i=e(3717),c=e(8551),u=o([].concat);r.exports=n("Reflect","ownKeys")||function(r){var t=a.f(c(r)),e=i.f;return e?u(t,e(r)):t}},1548:function(r,t,e){var n=e(4475),o=e(9039),a=e(7388),i=e(7290),c=e(516),u=e(9088),f=n.structuredClone;r.exports=!!f&&!o((function(){if(c&&a>92||u&&a>94||i&&a>97)return!1;var r=new ArrayBuffer(8),t=f(r,{transfer:[r]});return 0!==r.byteLength||8!==t.byteLength}))},5610:function(r,t,e){var n=e(1291),o=Math.max,a=Math.min;r.exports=function(r,t){var e=n(r);return e<0?o(e+t,0):a(e,t)}},5854:function(r,t,e){var n=e(2777),o=TypeError;r.exports=function(r){var t=n(r,"number");if("number"==typeof t)throw new o("Can't convert number to bigint");return BigInt(t)}},7696:function(r,t,e){var n=e(1291),o=e(8014),a=RangeError;r.exports=function(r){if(void 0===r)return 0;var t=n(r),e=o(t);if(t!==e)throw new a("Wrong length or index");return e}},5397:function(r,t,e){var n=e(7055),o=e(7750);r.exports=function(r){return n(o(r))}},1291:function(r,t,e){var n=e(741);r.exports=function(r){var t=+r;return t!==t||0===t?0:n(t)}},8014:function(r,t,e){var n=e(1291),o=Math.min;r.exports=function(r){var t=n(r);return t>0?o(t,9007199254740991):0}},2140:function(r,t,e){var n=e(8227),o=n("toStringTag"),a={};a[o]="z",r.exports="[object z]"===String(a)},655:function(r,t,e){var n=e(6955),o=String;r.exports=function(r){if("Symbol"===n(r))throw new TypeError("Cannot convert a Symbol value to a string");return o(r)}},9714:function(r,t,e){var n=e(9088);r.exports=function(r){try{if(n)return Function('return require("'+r+'")')()}catch(t){}}},6573:function(r,t,e){var n=e(3724),o=e(2106),a=e(3238),i=ArrayBuffer.prototype;n&&!("detached"in i)&&o(i,"detached",{configurable:!0,get:function(){return a(this)}})},7936:function(r,t,e){var n=e(6518),o=e(5636);o&&n({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return o(this,arguments.length?arguments[0]:void 0,!1)}})},8100:function(r,t,e){var n=e(6518),o=e(5636);o&&n({target:"ArrayBuffer",proto:!0},{transfer:function(){return o(this,arguments.length?arguments[0]:void 0,!0)}})},7467:function(r,t,e){var n=e(7628),o=e(4644),a=o.aTypedArray,i=o.exportTypedArrayMethod,c=o.getTypedArrayConstructor;i("toReversed",(function(){return n(a(this),c(this))}))},4732:function(r,t,e){var n=e(4644),o=e(9504),a=e(9306),i=e(5370),c=n.aTypedArray,u=n.getTypedArrayConstructor,f=n.exportTypedArrayMethod,s=o(n.TypedArrayPrototype.sort);f("toSorted",(function(r){void 0!==r&&a(r);var t=c(this),e=i(u(t),t);return s(e,r)}))},9577:function(r,t,e){var n=e(7547),o=e(4644),a=e(1108),i=e(1291),c=e(5854),u=o.aTypedArray,f=o.getTypedArrayConstructor,s=o.exportTypedArrayMethod,p=!!function(){try{new Int8Array(1)["with"](2,{valueOf:function(){throw 8}})}catch(r){return 8===r}}();s("with",{with:function(r,t){var e=u(this),o=i(r),s=a(e)?c(t):+t;return n(e,f(e),o,s)}}["with"],!p)},4979:function(r,t,e){var n=e(6518),o=e(4475),a=e(7751),i=e(6980),c=e(4913).f,u=e(9297),f=e(679),s=e(3167),p=e(2603),y=e(5002),v=e(6193),d=e(3724),l=e(6395),h="DOMException",E=a("Error"),g=a(h),A=function(){f(this,m);var r=arguments.length,t=p(r<1?void 0:arguments[0]),e=p(r<2?void 0:arguments[1],"Error"),n=new g(t,e),o=new E(t);return o.name=h,c(n,"stack",i(1,v(o.stack,1))),s(n,this,A),n},m=A.prototype=g.prototype,w="stack"in new E(h),R="stack"in new g(1,2),x=g&&d&&Object.getOwnPropertyDescriptor(o,h),T=!!x&&!(x.writable&&x.configurable),_=w&&!T&&!R;n({global:!0,constructor:!0,forced:l||_},{DOMException:_?A:g});var b=a(h),O=b.prototype;if(O.constructor!==b)for(var I in l||c(O,"constructor",i(1,b)),y)if(u(y,I)){var C=y[I],D=C.s;u(b,D)||c(b,D,i(6,C.c))}}}]);
//# sourceMappingURL=97.7f49a5af.js.map